/ .nested-fields[data-controller="dynamic-select"]
/   .form-group
/     = form.select :type,
/           options_for_select(Variant.type_select, selected: form.object.type),
/           {},
/           'data-dynamic-select-target': 'select',
/           'data-action': 'dynamic-select#selected'
/   .form-group
/     = form.hidden_field :_destroy
/     = form.text_field :name, placeholder: 'Name', class: 'form-control'
/     = form.text_field :color, placeholder: 'Color', class: 'form-control'
/     = form.number_field :size, placeholder: 'Size', class: 'form-control'
/     small
/       = link_to "Remove Variant", "#", data: { action: "click->nested-form#remove_association" }
/   div[data-controller="nested-form" data-dynamic-select-target="choice"]
/     template[data-nested-form-target="template"]
/       = form.fields_for :options, Option.new, child_index: 'TEMPLATE_RECORD' do |option|
/         = render 'option_fields', form: option
/     = form.fields_for :options do |option|
/       = render 'option_fields', form: option
/     div[data-nested-form-target="add_item"]
/       = link_to "Add Option", "#", data: { action: "nested-form#add_association" }
/   div[data-controller="nested-form" data-dynamic-select-target="long"]
.nested-fields
  .form-group
    = form.hidden_field :_destroy
    = form.text_field :name, placeholder: 'Name', class: 'form-control'
    = form.text_field :color, placeholder: 'Color', class: 'form-control'
    = form.number_field :size, placeholder: 'Size', class: 'form-control'
    small
      = link_to "Remove Variant", "#", data: { action: "click->nested-form#remove_association" }